<div class="container">
    <section>
        <h2>Item administration</h2>
        <table class="table table-striped table-bordered table-hover">
                <th>ID</th>
                <th>Name</th>
                <th>Price</th>
                <th>Available</th>
                <th>Category</th>
                <th>Edit</th>
                <th>Delete</th>


                <tr ng-repeat="x in itemContr.items">
                    <td>{{x.id}}</td>
                    <td ng-hide="itemContr.editId==x.id">{{x.name}}</td>
                    <td ng-hide="itemContr.editId!=x.id"><input type="text" class="form-control" ng-model="x.name"></td>

                    <td ng-hide="itemContr.editId==x.id">{{x.price}}</td>
                    <td ng-hide="itemContr.editId!=x.id"><input type="number" class="form-control" ng-model="x.price"></td>

                    <td ng-hide="itemContr.editId==x.id">{{x.available}}</td>
                    <td ng-hide="itemContr.editId!=x.id"><input type="number" class="form-control" ng-model="x.available"></td>

                    <td ng-hide="itemContr.editId==x.id">{{x.categoryName}}</td>
                    <td ng-hide="itemContr.editId!=x.id">
                        <select  ng-options="category.categoryId as category.categoryName for category in itemContr.categories" ng-model="x.newCategoryId"></select>
                    </td>


                    <td ng-hide="itemContr.editId==x.id">
                        <button type="button" class="btn btn-indigo btn-sm m-0" ng-click="itemContr.setEdit(x.id)">Edit</button>
                    </td>

                    <td ng-hide="itemContr.editId!=x.id">
                        <button type="button" class="btn btn-indigo btn-sm m-0" ng-click="itemContr.confirmEdit(x.id, x.newCategoryId)">Save</button>
                    </td>

                    <td ng-hide="itemContr.deleteId==x.id">
                        <button type="button" class="btn btn-indigo btn-sm m-0" ng-click="itemContr.setDelete(x.id)">Delete</button>
                    </td>

                    <td ng-hide="itemContr.deleteId!=x.id">
                        <button type="button" class="btn btn-indigo btn-sm m-0" ng-click="itemContr.confirmDelete(x.id)">Confirm</button>
                    </td>
                </tr>
        </table>
        <button type="button" ng-show="!itemContr.isAdding()" class="btn btn-indigo btn-sm m-0" ng-click="itemContr.flipAddItem()">Add</button>

        <div ng-show="itemContr.isAdding()">

            <fieldset class="form-group">
                <label>Name:</label>
                <input class="form-control" type="text" ng-model="itemContr.new.name"/>
            </fieldset>
            <fieldset class="form-group">
                <label>Price</label>
                <input class="form-control" type="number" ng-model="itemContr.new.price"/>
            </fieldset>
            <fieldset class="form-group">
                <label>Available</label>
                <input class="form-control" type="number" ng-model="itemContr.new.available"/>
            </fieldset>
            <fieldset class="form-group">
                <label>Category</label>
                <select  ng-options="category.categoryId as category.categoryName for category in itemContr.categories" ng-model="itemContr.new.category_id"></select>
            </fieldset>

            <button type="button" class="btn btn-indigo btn-sm m-0" ng-click="itemContr.addItem()">Add</button>
            <button type="button" class="btn btn-indigo btn-sm m-0" ng-click="itemContr.flipAddItem()">Cancel</button>


        </div>
    </section>
</div>